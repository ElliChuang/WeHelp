<!DOCTYPE html> 
<html>
    <head> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8"/>   
        <title>Assignment_Week2_Elli</title>
    </head>
    <body>
        <html>
            <h1>Assignment_Week2_javascript</h1>
        </html>
        <script>
        // 要求一
        /* while寫法
        function calculate(min, max, step){
            let total = 0;
            while(max >= min){
                total += min;
                min += step;
            }
            console.log(total);
        }
        */
        function calculate(min, max, step){
            let total = 0
            for(let i = min; i <= max; i += step){
                total += i;
                }
            console.log(total);
        }
        calculate(1, 3, 1); // 你的程式要能夠計算 1+2+3，最後印出 6
        calculate(4, 8, 2); // 你的程式要能夠計算 4+6+8，最後印出 18
        calculate(-1, 2, 2); // 你的程式要能夠計算 -1+1，最後印出 0

        //要求二
        /* 方法一
        function avg(data){
            let total = 0
            let count = 0
            for(let i = 0; i < data.employees.length; i++){
                if(data.employees[i].manager == false){
                    total += data.employees[i].salary;
                    count += 1;
                }
            }
            let avg1 = total / count;
            console.log(avg1)
        */
        function avg(data){
            let newdata =(data.employees);
            let unmanager = newdata.filter(function(item, index, array){
                return item.manager == false;
                });

            let num = unmanager.length;
            let sum = 0;
            for(let i =0; i < num; i++ ){
                sum += unmanager[i].salary;
            }
            let avg = sum / num;
            console.log(avg)
        } 

        avg({
        "employees":[
        {
        "name":"John",
        "salary":30000,
        "manager":false
        },
        {
        "name":"Bob",
        "salary":60000,
        "manager":true
        },
        {
        "name":"Jenny",
        "salary":50000,
        "manager":false
        },
        {
        "name":"Tony",
        "salary":40000,
        "manager":false
        }
        ]
        });

        // 要求三
        function func(a){
            return function(b,c){
                ans = a + (b * c)
                console.log(ans)
            };
        }

        func(2)(3, 4); // 14
        func(5)(1, -5); // 0
        func(-3)(2, 9); // 15


        // 要求四
        function maxProduct(nums){   
            let max_num = nums[0];
            let min_num = nums[0];
            let ans = nums[0] * nums[1];
            for(let i=1; i < nums.length; i++){
                ans = Math.max(max_num * nums[i], min_num * nums[i] , ans)
                max_num = Math.max(max_num, nums[i])
                min_num = Math.min(min_num, nums[i])
            }
            console.log(ans)
        }
        maxProduct([5, 20, 2, 6]) // 得到 120
        maxProduct([10, -20, 0, 3]) // 得到 30
        maxProduct([10, -20, 0, -3]) // 得到 60
        maxProduct([-1, 2]) // 得到 -2
        maxProduct([-1, 0, 2]) // 得到 0 或 -0
        maxProduct([5, -1, -2, 0]) // 得到 2
        maxProduct([-5, -2]) // 得到 10



        // 要求五
        function twoSum(nums, target){
            let dict = {};
            /*
            for(let i = 0; i < nums.length; i++){
                let tem = target - nums[i];
                if (dict[tem] == undefined){
                    dict[nums[i]] = i;
                    console.log(dict)                     
                }else{
                    return [dict[tem], i]
                }          
            }*/
            for(let i = 0; i < nums.length; i++){
                let tem = target - nums[i];
                if (tem in dict){
                    return [dict[tem], i]
                }else{
                    dict[nums[i]] = i;
                }
            }
        }

        let result=twoSum([2, 11, 7, 15], 9);
        console.log(result);

        // 要求六
        function maxZeros(nums){
            let max_num = 0;
            let count = 0;
            for (let i =0; i < nums.length; i++){
                if (nums[i] == 0){
                    count += 1;
                    max_num = Math.max(max_num, count);
                }else{
                    count = 0
                }
            }
            console.log(max_num)
        }
        maxZeros([0, 1, 0, 0]); // 得到 2
        maxZeros([1, 0, 0, 0, 0, 1, 0, 1, 0, 0]); // 得到 4
        maxZeros([1, 1, 1, 1, 1]); // 得到 0
        maxZeros([0, 0, 0, 1, 1]) // 得到 3
        </script>
    </body>
